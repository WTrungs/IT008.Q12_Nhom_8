<Window x:Class="TetrisApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TetrisApp"
        mc:Ignorable="d"
        Title="TetrisApp"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowState="Maximized" d:DesignHeight="800" d:DesignWidth="600" PreviewKeyDown="Window_PreviewKeyDown">

    <Grid x:Name="RootGrid" Background="{StaticResource SpaceBackground}">

        <Frame x:Name="MainFrame" NavigationUIVisibility="Hidden"/>

        <!-- OVERLAY DIALOG -->
        <Grid x:Name="OverlayLayer"
              Visibility="Collapsed"
              IsHitTestVisible="False"
              Background="#A0000000"
              Panel.ZIndex="999"
              Focusable="True"
              FocusManager.IsFocusScope="True"
              KeyboardNavigation.IsTabStop="True"
              KeyboardNavigation.TabNavigation="Cycle"
              PreviewKeyDown="OverlayLayer_PreviewKeyDown">

            <Border Width="420"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    CornerRadius="18"
                    Padding="18"
                    Background="#CC10152A"
                    BorderBrush="#22D3EE"
                    BorderThickness="1">
                <Border.Effect>
                    <DropShadowEffect Color="#22D3EE" BlurRadius="30" ShadowDepth="0" Opacity="0.35"/>
                </Border.Effect>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="18"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock x:Name="OverlayTitleText"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="#EAF0FF"/>

                    <TextBlock x:Name="OverlayMessageText"
                               Grid.Row="2"
                               TextWrapping="Wrap"
                               Foreground="#EAF0FF"
                               Opacity="0.92"/>

                    <!-- Loading progress -->
                    <ProgressBar x:Name="OverlayProgress"
                                 Style="{StaticResource SpaceProgressBar}"
                                 Grid.Row="3"
                                 Height="14"
                                 Width="320"
                                 Margin="0,10,0,0"
                                 IsIndeterminate="True"
                                 Visibility="Collapsed"/>

                    <!-- spacer -->
                    <Rectangle Grid.Row="4" Height="18" Opacity="0"/>

                    <StackPanel x:Name="OverlayButtonPanel"
                                Grid.Row="5"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right">
                        
                        <Button x:Name="OverlayOkButton"
                                Style="{StaticResource SpaceButton}"
                                Content="OK"
                                Height="40"
                                MinWidth="110"
                                Margin="0,0,10,0"
                                GotKeyboardFocus="Control_GotKeyboardFocus"
                                Click="OverlayOkButton_Click"
                                TabIndex="0"/>

                        <Button x:Name="OverlayCancelButton"
                                Style="{StaticResource SpaceButton}"
                                Content="Cancel"
                                Height="40"
                                MinWidth="110"
                                GotKeyboardFocus="Control_GotKeyboardFocus"
                                Click="OverlayCancelButton_Click"
                                TabIndex="1"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>