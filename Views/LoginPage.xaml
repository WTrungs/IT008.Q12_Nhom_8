<Page x:Class="TetrisApp.Views.LoginPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:TetrisApp.Views"
      mc:Ignorable="d"
      d:DesignHeight="650"
      d:DesignWidth="1000"
      Title="LoginPage"
      Loaded="LoginPage_Loaded"
      PreviewKeyDown="Page_PreviewKeyDown"
      UseLayoutRounding="True"
      SnapsToDevicePixels="True">

    <Page.Resources>

        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#8899AC"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
        </Style>

        <Style x:Key="SpaceTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#1A1F2E"/>
            <Setter Property="Foreground" Value="#E6ECFF"/>
            <Setter Property="BorderBrush" Value="#3A4058"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="CaretBrush" Value="#22D3EE"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#22D3EE"/>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect
                                            Color="#22D3EE"
                                            BlurRadius="10"
                                            Opacity="0.4"
                                            ShadowDepth="0"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="BorderBrush" Value="#505A75"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SpacePasswordBox" TargetType="PasswordBox">
            <Setter Property="Background" Value="#1A1F2E"/>
            <Setter Property="Foreground" Value="#E6ECFF"/>
            <Setter Property="BorderBrush" Value="#3A4058"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="CaretBrush" Value="#22D3EE"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#22D3EE"/>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect
                                            Color="#22D3EE"
                                            BlurRadius="10"
                                            Opacity="0.4"
                                            ShadowDepth="0"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="BorderBrush" Value="#505A75"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="GlowCyanLinkHost" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#22D3EE"/>
            <Setter Property="TextDecorations" Value="{x:Null}"/>
            <Setter Property="Effect" Value="{x:Null}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#E6ECFF"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect
                                Color="#22D3EE"
                                BlurRadius="14"
                                Opacity="0.6"
                                ShadowDepth="0"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                    <Setter Property="Foreground" Value="#E6ECFF"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect
                                Color="#22D3EE"
                                BlurRadius="16"
                                Opacity="0.75"
                                ShadowDepth="0"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="GlowRedLinkHost"
               TargetType="TextBlock"
               BasedOn="{StaticResource GlowCyanLinkHost}">
            <Setter Property="Foreground" Value="#FF6B6B"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#FFECEC"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect
                                Color="#FF6B6B"
                                BlurRadius="14"
                                Opacity="0.6"
                                ShadowDepth="0"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                    <Setter Property="Foreground" Value="#FFECEC"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect
                                Color="#FF6B6B"
                                BlurRadius="16"
                                Opacity="0.75"
                                ShadowDepth="0"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="LinkButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="#22D3EE"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <TextBlock
                            Text="{TemplateBinding Content}"
                            Foreground="{TemplateBinding Foreground}"
                            TextDecorations="{x:Null}"
                            SnapsToDevicePixels="True"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#FF6B6B"/>
                </Trigger>
                <Trigger Property="IsKeyboardFocused" Value="True">
                    <Setter Property="Foreground" Value="#FF6B6B"/>
                </Trigger>
                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                    <Setter Property="Foreground" Value="#FF6B6B"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="#66788F"/>
                </Trigger>
            </Style.Triggers>
        </Style>

    </Page.Resources>

    <Grid x:Name="RootGrid"
          Background="{StaticResource SpaceBackground}"
          KeyboardNavigation.TabNavigation="Cycle"
          KeyboardNavigation.ControlTabNavigation="Cycle">

        <Border
            x:Name="FocusPark"
            Focusable="True"
            KeyboardNavigation.IsTabStop="False"
            Width="0"
            Height="0"/>

        <Canvas IsHitTestVisible="True" Opacity="0.9">
            <Ellipse Width="700" Height="700" Canvas.Left="-219" Canvas.Top="-340" Fill="#557C3AED">
                <Ellipse.Effect>
                    <BlurEffect Radius="60"/>
                </Ellipse.Effect>
            </Ellipse>

            <Ellipse Width="700" Height="700" Canvas.Left="190" Canvas.Top="325" Fill="#BA748D">
                <Ellipse.Effect>
                    <BlurEffect Radius="60"/>
                </Ellipse.Effect>
            </Ellipse>

            <Ellipse Width="700" Height="694" Canvas.Left="650" Canvas.Top="-267" Fill="#4E7198">
                <Ellipse.Effect>
                    <BlurEffect Radius="60"/>
                </Ellipse.Effect>
            </Ellipse>

            <Ellipse Width="700" Height="700" Canvas.Left="890" Canvas.Top="325" Fill="#5522D3EE">
                <Ellipse.Effect>
                    <BlurEffect Radius="70"/>
                </Ellipse.Effect>
            </Ellipse>

            <Ellipse Width="700" Height="700" Canvas.Left="-536" Canvas.Top="356" Canvas.Bottom="-220" Fill="#44FB7185">
                <Ellipse.Effect>
                    <BlurEffect Radius="80"/>
                </Ellipse.Effect>
            </Ellipse>
        </Canvas>

        <Rectangle
            Fill="{StaticResource StarsBrush}"
            Opacity="0.30"
            IsHitTestVisible="False"/>

        <Border
            Style="{StaticResource GlassCard}"
            Width="420"
            VerticalAlignment="Center"
            HorizontalAlignment="Center"
            Padding="40">

            <Grid x:Name="LoginGrid">
                <StackPanel>

                    <TextBlock
                        x:Name="TitleText"
                        Text="LOGIN"
                        FontSize="32"
                        FontWeight="Bold"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,30"
                        Foreground="#E6ECFF"/>

                    <TextBlock
                        Text="USERNAME"
                        Style="{StaticResource LabelText}"/>

                    <TextBox
                        x:Name="UsernameTextBox"
                        Style="{StaticResource SpaceTextBox}"
                        KeyboardNavigation.TabIndex="0"
                        GotKeyboardFocus="Control_GotKeyboardFocus"/>

                    <TextBlock
                        x:Name="PasswordLabel"
                        Text="PASSWORD"
                        Style="{StaticResource LabelText}"
                        Margin="0,15,0,5"/>

                    <PasswordBox
                        x:Name="PasswordBox"
                        Style="{StaticResource SpacePasswordBox}"
                        KeyboardNavigation.TabIndex="1"
                        GotKeyboardFocus="Control_GotKeyboardFocus"/>

                    <TextBlock 
                        x:Name="EmailLabel" 
                        Text="EMAIL" 
                        Style="{StaticResource LabelText}" 
                        Margin="0,15,0,5" 
                        Visibility="Collapsed"/>
                    <TextBox 
                        x:Name="EmailTextBox" 
                        Style="{StaticResource SpaceTextBox}" 
                        KeyboardNavigation.TabIndex="2" 
                        Visibility="Collapsed"/>

                    <TextBlock 
                        x:Name="OtpLabel" 
                        Text="OTP CODE (CHECK EMAIL)" 
                        Style="{StaticResource LabelText}" 
                        Margin="0,15,0,5" 
                        Visibility="Collapsed"/>
                    <TextBox 
                        x:Name="OtpTextBox" 
                        Style="{StaticResource SpaceTextBox}" 
                        KeyboardNavigation.TabIndex="3" 
                        Visibility="Collapsed"/>

                    <Grid Margin="0,5,0,25">
                        <Button
                            x:Name="ForgotPasswordLink"
                            Style="{StaticResource LinkButton}"
                            Content="Forgot Password?"
                            HorizontalAlignment="Left"
                            Click="ForgotPasswordLink_Click"
                            GotKeyboardFocus="Control_GotKeyboardFocus"
                            KeyboardNavigation.TabIndex="2"/>
                    </Grid>

                    <Button
                        x:Name="LoginButton"
                        Style="{StaticResource SpaceButton}"
                        Content="LOGIN"
                        FontSize="16"
                        FontWeight="Bold"
                        Margin="0,-5,0,-7"
                        Click="LoginButton_Click"
                        GotKeyboardFocus="Control_GotKeyboardFocus"
                        KeyboardNavigation.TabIndex="3" Height="45"/>

                    <StackPanel
                        x:Name="SignUpPanel"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,20,0,0">

                        <TextBlock
                            Text="New Player? "
                            Foreground="#8899AC"/>

                        <Button
                            x:Name="SignUpLink"
                            Style="{StaticResource LinkButton}"
                            Content="Create Account"
                            Click="SignUpLink_Click"
                            GotKeyboardFocus="Control_GotKeyboardFocus"
                            KeyboardNavigation.TabIndex="4"/>
                    </StackPanel>

                    <Button
                        x:Name="ContinueAsGuestButton"
                        Style="{StaticResource SpaceButton}"
                        Content="CONTINUE AS GUEST"
                        Margin="0,17,0,0"
                        FontSize="16"
                        FontWeight="SemiBold"
                        Foreground="White"
                        Click="ContinueAsGuestButton_Click"
                        GotKeyboardFocus="Control_GotKeyboardFocus"
                        KeyboardNavigation.TabIndex="5" Height="45"/>

                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Page>
